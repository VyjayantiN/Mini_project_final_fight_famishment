{% load static %}

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <head>
      <!-- Add the Google Translate API script -->
      <script type="text/javascript">
        function googleTranslateElementInit() {
          new google.translate.TranslateElement({
            pageLanguage: 'en', // default language of your page
            includedLanguages: 'hi,ta,te,kn,ml,mr,bn,gu,pa,ur', // only Indian languages
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE
          }, 'google_translate_element');
        }
      
        // Function to trigger the Google Translate language change
        function changeLanguage(languageCode) {
          const select = document.querySelector('select.goog-te-combo');
          if (select) {
            select.value = languageCode;
            select.dispatchEvent(new Event('change')); // Trigger the change event to translate the page
          }
        }
      </script>
      
      <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    </head>
    

        
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <title>Fight Famishment</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--
    
TemplateMo 558 Klassy Cafe

https://templatemo.com/tm-558-klassy-cafe

-->
    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">

    <link rel="stylesheet" type="text/css" href="{% static 'css/font-awesome.css' %}">

    <link rel="stylesheet" href="{% static 'css/templatemo-klassy-cafe.css' %}">

    <link rel="stylesheet" href="{% static 'css/owl-carousel.css' %}">

    <link rel="stylesheet" href="{% static 'css/lightbox.css' %}">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/font-awesome.css' %}">
    <link rel="stylesheet" href="{% static 'css/templatemo-klassy-cafe.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl-carousel.css' %}">
    <link rel="stylesheet" href="{% static 'css/lightbox.css' %}">
    <style>
        .nav__ul a {
            color: #fff;
        }

        .nav__ul--extra {
            column-count: 2;
            column-gap: 1.25em;
        }

        .legal {
            display: flex;
            flex-wrap: wrap;
            color: #fff;
        }

        .legal__links {
            display: flex;
            align-items: center;
        }

        .heart {
            color: #fff;
        }

        @media screen and (min-width: 24.375em) {
            .legal .legal__links {
                margin-left: auto;
            }
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fb5849;
            color: black;
           
        }
        
        #container {
            max-width: 800px;
            margin: 0px auto;
            margin-top:3px;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #fb5849;
            font-weight:bold;
        }
        
        form {
            margin-bottom: 20px;
        }
        
        fieldset {
            border: none;
            margin: 0;
            padding: 0;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
        }
        
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }
        
        button[type="submit"] {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #fb5849;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button[type="submit"]:hover {
            background-color: #c03542;
        }
        
        #bmiDisplay {
            text-align: center;
            color: #e4485f;
        }
        
        #bmiDisplay h2 {
            margin-bottom: 5px;
        }
        
        #bmiDisplay p {
            font-size: 24px;
            font-weight: bold;
            margin-top: 0;
        }
        
        /* Grid layout */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 10px;
        }
        
        /* Apply grid layout to food item divs */
        .food-item {
            margin-bottom: 10px;
        }
        /* Add this CSS to reset margins and paddings */

  /* Style for individual radio button items */
  .radio-item {
    flex: 0 0 calc(50% - 10px); /* Adjust width to accommodate two items in a row with spacing */
    margin-bottom: 10px; /* Add some bottom margin for spacing */
  }
  
  .voice-icon {
    cursor: pointer;
    margin-left: 10px;
    color: #fb5849;
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
  }
  
  .voice-icon:hover {
    color: #c03542;
  }
  
  .input-group {
    position: relative; /* Position relative for the icon to be positioned within the group */
    display: flex;
    align-items: center;
  }
  
  .input-group input,
  .input-group select {
    flex: 1;
    padding-right: 40px; /* Space for the icon on the right */
  }
  
  .input-group i {
    position: absolute;
    right: 10px; /* Adjust this value for spacing from the right */
    top: 50%;
    transform: translateY(-50%); /* Vertically center the icon */
    cursor: pointer;
    color: #fb5849;
  }
  

/* Header Styling */
.my_new-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #ffffff; /* White background for header */
    padding: 15px 30px;
    border-bottom: 1px solid #ddd;
}



/* Navigation Links Styling */
.my_new-nav {
    display: flex;
    align-items: center;
    gap: 20px; /* Space between links */
}

.my_new-nav-link {
    text-decoration: none;
    color: #000000; /* Black text color for links */
    font-size: 16px;
    font-weight: bold; /* Bold links */
    padding: 10px 15px; /* Increase padding for top, bottom, left, and right */
    transition: color 0.3s, background-color 0.3s;
}

/* Active and Hover Effect for Navigation Links */
.my_new-nav-link:hover, .my_new-nav-link.active {
    color: #fb5849; /* Active/Hover color */
}

/* Check BMI Button Styling */
.my_new-button {
    background-color: #000000; /* Black background for button */
    color: #ffffff; /* White text for button */
    padding: 10px 20px; /* Padding for top, bottom, left, and right */
    border-radius: 20px; /* Rounded corners */
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.3s;
}

.my_new-button:hover {
    background-color: #fb5849; /* Hover color for button */
}

/* Google Translate Styling */
.my_new-translate {
    margin-left: 20px;
}/* Active and Hover Effect for Navigation Links */
.my_new-nav-link:hover, .my_new-nav-link.active {
    color: #fb5849; /* Active/Hover color */
}

/* Custom Styling to Force Vertical Dropdown */
.goog-te-menu-frame {
    width: 200px !important;
    height: auto !important;
    max-height: 300px !important;
    overflow-y: scroll !important;
}

/* Adjust dropdown container */
.goog-te-menu-value {
    padding: 10px 15px;
}

/* Styling for language list */
.goog-te-menu2 {
    display: block !important;
    width: 150px !important;
    position: absolute;
}

.goog-te-menu2-item {
    display: block;
}
    </style>
</head>
<body>
    {% comment %} <header class="header-area header-sticky pt-0 mt-0" id= "google_element">
        <div class="container text-light " >
            <div class="row">
                <div class="col-12 ">
                    <nav class="main-nav">
                        <!-- ** Logo Start ** -->
                        <a href="/" class="logo">
                            <img src="static/images/FFlogo.png" >
                        </a>
                        <!-- ** Logo End ** -->
                        <!-- ** Menu Start ** -->
                        <ul class="nav">
                            <li class="scroll-to-section"><a href="/"class="active" >Home</a></li>
                            <li class="scroll-to-section"><a href="about">About</a></li>
                            <li class="scroll-to-section" ><a href="blog">Articles</a></li>
                            <li class="scroll-to-section"><a href="bmi">Predict BMI</a></li>
                             <a href="/#reservation"><button type="button" class="btn btn-dark">Check BMI</button></a>
                            
                            <!-- ... -->
                        </ul>
                        <!-- ... -->
                    </nav>
                </div>
            </div>
        </div>
    </header> {% endcomment %}


    {% comment %} <div id= "google_translate_element" ></div> <!-- Hidden default translate widget -->
     {% endcomment %}
  
  <!-- Header Bar -->
  <header class="my_new-header">
    <!-- Logo on the left -->
    <div class="my_new-logo">
        <a href="/" class="logo">
            <img src="static/images/FFlogo.png">
        </a>
    </div>

    <!-- Navigation links on the right -->
    <nav class="my_new-nav">
        <a href="/" class="my_new-nav-link">Home</a>
        <a href="about" class="my_new-nav-link">About</a>
        <a href="blog" class="my_new-nav-link">Articles</a>
        <a href="bmi" class="my_new-nav-link active">Predict BMI</a>
        <a href="/#reservation" class="my_new-button">Check BMI</a>
    </nav>

    <!-- Google Translate Element -->
    <div id="google_translate_element" class="my_new-translate"></div>
</header>


<!-- Google Translate Script -->
<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'en',
            includedLanguages: 'hi,ta,te,kn,ml,mr,bn,gu,pa,ur',
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE
        }, 'google_translate_element');
    }
</script>
<script async type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>



    <section class="section" >
        {% comment %} <div>
            <label for="language-select">Select Language:</label>
            <select id="language-select" onchange="changeLanguage(this.value)">
                <option value="">--Select Language--</option>
                <option value="hi">Hindi</option>
                <option value="ta">Tamil</option>
                <option value="te">Telugu</option>
                <option value="kn">Kannada</option>
                <option value="ml">Malayalam</option>
                <option value="mr">Marathi</option>
                <option value="bn">Bengali</option>
                <option value="gu">Gujarati</option>
                <option value="pa">Punjabi</option>
                <option value="ur">Urdu</option>
            </select>
        </div> {% endcomment %}
    <div id="container">
        <h2>Nutrition Tracker</h2>
        
        <form id="nutritionForm" method="post" action="{% url 'bmi_predicted' %}">
            {% csrf_token%}
     
                
                <div class="grid-container">
                    {% csrf_token%}
            
                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="rice" name="rice" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="100">Small (100g)</option>
                                    <option value="200">Medium (200g)</option>
                                    <option value="300">Large (300g)</option>
                                </select>
                                <label for="rice">Rice:</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>

                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="roti" name="roti" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="1">One Serving</option>
                                    <option value="2">Two Servings</option>
                                    <option value="3">Three Servings</option>
                                </select>
                                <label for="roti">Roti/Chapati:</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>
                    
                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="dal" name="dal" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="50">Small (50g)</option>
                                    <option value="100">Medium (100g)</option>
                                    <option value="150">Large (150g)</option>
                                </select>
                                <label for="dal">Dal (lentils):</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>
      
                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark" id="eggs" name="eggs" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="1">One serving</option>
                                    <option value="2">Two servings</option>
                                    <option value="3">Three servings</option>
                                </select>
                                <label for="eggs">Eggs/Paneer:</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>

                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="sabzi" name="sabzi" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="1">One serving</option>
                                    <option value="2">Two servings</option>
                                    <option value="3">Three servings</option>
                                </select>
                                <label for="sabzi">Sabzi (vegetable curry):</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>

                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark" id="fruits" name="fruits" required>
                                    <option>Select</option>
                            <option value="0">None</option>
                            <option value="50">Small portion</option>
                            <option value="100">Medium portion</option>
                            <option value="150">Large portion</option>
                                </select>
                                <label for="fruits">Seasonal fruits:</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>



                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="buttermilk" name="buttermilk" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="1">Small glass</option>
                                    <option value="2">Medium glass</option>
                                    <option value="3">Large glass</option>
                                </select>
                                <label for="buttermilk">Buttermilk:</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>


                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="juice" name="juice" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="1">Small glass</option>
                                    <option value="2">Medium glass</option>
                                    <option value="3">Large glass</option>
                                </select>
                                <label for="juice:">Juice</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>

                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light border-2 border-dark" id="height" name="height" placeholder="Child's height in cm">
                                <label for="height">Child's height in cm</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('height'))"></i>
                         
                            </div>
                        </fieldset>
                    </div>
                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light border-2 border-dark" id="weight" name="weight" placeholder="Child's weight in kg">
                                <label for="weight">Child's weight in kg</label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('weight'))"></i>

                            </div>
                        </fieldset>
                    </div>



                    <div class="food-item">
                        <fieldset>
                            <div class="form-floating">
                                <select class="form-select bg-light border-2 border-dark"  id="workout" name="workout" required>
                                    <option>Select</option>
                                    <option value="0">None</option>
                                    <option value="1">30</option>
                                    <option value="2">45</option>
                                    <option value="3">60</option>
                                </select>
                                <label for="workout">Workout in minutes </label>
                                <i class="fas fa-microphone voice-icon" onclick="startVoiceInput(document.getElementById('district'))"></i>

                            </div>
                        </fieldset>
                    </div>

                   
                </div>

<br>
                <button type="submit">Estimate</button>
            </fieldset>
        </form>


    </div>
</section>
<script>
    // Check browser support for Speech Recognition API
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (!SpeechRecognition) {
        console.log('Web Speech API is not supported by this browser.');
    } else {
        const recognition = new SpeechRecognition();
        recognition.continuous = false;
        recognition.interimResults = true;
        recognition.lang = 'en-US';

        let voiceTarget = null; // To store the target input or select field

        // Event listener for when voice input is detected
        recognition.onresult = function(event) {
            const transcript = event.results[0][0].transcript;
            if (voiceTarget) {
                if (voiceTarget.tagName === 'INPUT' || voiceTarget.tagName === 'TEXTAREA') {
                    voiceTarget.value = transcript;
                } else if (voiceTarget.tagName === 'SELECT') {
                    // Match transcript with dropdown values and set selected value
                    let options = voiceTarget.querySelectorAll('option');
                    for (let option of options) {
                        if (option.textContent.toLowerCase().includes(transcript.toLowerCase())) {
                            voiceTarget.value = option.value;
                            break;
                        }
                    }
                }
            }
        };

        recognition.onend = function() {
            // Optionally, you can handle additional logic when recognition ends.
        };

        // Function to start voice input for a specific input field
        function startVoiceInput(target) {
            voiceTarget = target;
            recognition.start();
        }

        // Function to enable voice input when an input or select field is focused
        function enableVoiceInput(field) {
            field.addEventListener('focus', function() {
                startVoiceInput(field);
            });
        }

        // Add voice input functionality to all input and select fields
        document.addEventListener('DOMContentLoaded', function() {
            const fields = document.querySelectorAll('input[type="text"], input[type="number"], select');
            fields.forEach(enableVoiceInput);
        });
    }
</script>

</body>
</html>